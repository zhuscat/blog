---
title: "一个关于“二”的故事"
date: 2016-03-06 14:55:41
category: 随笔
tags:
- 随笔
---

好久没有写博文了，写一个关于“二”的故事吧。


为了创新学分，这几天都在写一个项目，项目涉及网络。

一个地方是点赞，点了之后我马上给本地UI的数字加一，然后等网络最终返回是否成功点赞了，再进行UI更新。

一开始另一个同学只写了一个点赞接口给我（调用之后改变服务器数据），叫我先测试一下。

然后更新UI部分我写了一个类似这样的代码：


	label.text = "\(self.something.somethingLikeNumber + 1)"

然后，点了下赞，没什么问题。

接着其他接口也写好了，比如取消点赞，我就写了类似这样的代码：

	label.text = "\(self.something.somethingLikeNumber - 1)"

然后就出现问题了，第一次点击的确是加一（减一），然后再点就变成加二（减二）了。排查了好久好久，一开始以为接口那边写错了，又以为哪里写错了（总之没有想到这里来），然后突然发现，这几句代码写错了，因为somethingLikeNumber根本就没有变过，以其为基础自然就加二减二了。

哭笑不得。